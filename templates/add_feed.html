<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<!--导入element-ui样式表-->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/element_index.css') }}">
		<title>开普勒微信公众号采集系统</title>
	</head>
	<body>
		<div id="wechat_spider">
			<table-detail></table-detail>
		</div>
	</body>
	<!--引入相应的包-->
	<!--让js文件可以使用Flask.url_for-->
	{{ JSGlue.include() }}
	<!--Vue.js-->
	<script src="{{ url_for('static', filename='js/vue.js') }}"></script>
	<!--element-ui-->
	<script src="{{ url_for('static', filename='js/element-index.js') }}"></script>
	<!--datatable.js-->
	<script src="{{ url_for('static', filename='js/data-tables.js') }}"></script>
	<!--axios.js-->
	<script src="{{ url_for('static', filename='js/axios.min.js') }}"></script>

	<!--templates-->
	<script type="text/x-template" id="table-detail-template">
		<div>
			<data-tables :data='tableData'
			             :actions-def="getActionsDef()"
			             :pagination-def="getPaginationDef()"
			             :row-action-def="getRowActionsDef()"
			             action-col-width="80">
				<el-table-column label="公众号ID">
					<template scope="scope">
						<span v-text="scope.row.wx_id"></span>
					</template>
				</el-table-column>
				<el-table-column label="公众号标题">
					<template scope="scope">
						<span v-text="scope.row.wx_title"></span>
					</template>
				</el-table-column>
				<el-table-column label="爬取时间">
					<template scope="scope">
						<span v-text="scope.row.scraping_time"></span>
					</template>
				</el-table-column>
			</data-tables>
			<el-dialog :title="formTitle" :visible.sync="dialogFormVisible">
				<el-form :model="form" @submit.native.prevent>
					<el-form-item label="公众号ID">
						<el-input ref="valueInput" v-model.trim="form.wx_id" auto-complete="off"></el-input>
					</el-form-item>
					<el-form-item label="公众号标题">
						<el-input ref="valueInput" v-model.trim="form.wx_title" auto-complete="off"></el-input>
					</el-form-item>
					<el-form-item label="爬取时间">
						<el-input ref="valueInput" v-model.trim="form.scraping_time" auto-complete="off"></el-input>
					</el-form-item>
				</el-form>
				<div slot="footer" class="dialog-footer">
					<el-button @click="dialogFormVisible = false">取 消</el-button>
					<el-button type="primary" @click="createOrUpdate">确 定</el-button>
				</div>
			</el-dialog>
		</div>
	</script>

	<!--项目js-->
	<script src="{{ url_for('static', filename='js/app.js') }}"></script>
</html>